<h2>Edit Task</h2>
<p>
    {{ task | json }}
</p>
<div class="col-md-4" *ngIf="task">
    <form #f="ngForm" (ngSubmit)="submit()" novalidate>
        <div class="alert alert-danger" *ngIf="errMessage">
            {{errMessage}}
        </div>
        <div class="form-group">
            <label for="taskName">Name</label>
            <input [readonly]="!editable" id="taskName" type="text" class="form-control" [(ngModel)]="task.name" name="taskName" required #taskName="ngModel" />
        </div>
        <div class="form-group">
            <label for="taskDescription">Description</label>
            <input [readonly]="!editable" id="taskDescription" type="text" class="form-control" [(ngModel)]="task.description" name="taskDescription" required #taskDescription="ngModel" />
        </div>
        <div class="form-group">
            <label for="taskDueDate">Due Date</label>
            <input [readonly]="!editable" id="taskDueDate" type="text" class="form-control" [(ngModel)]="task.dueDate " name="taskDueDate" required #taskDueDate="ngModel" />
        </div>
        <div class="form-group">
            <label for="user">Owner</label>
            <select [disabled]="!editable" id="user" class="form-control" [(ngModel)]="task.userId" name="userId" required #user="ngModel">
                <option value="" *ngIf="!task.user"></option>
                <option *ngFor="let m of users" value="{{ m.id }}">{{ m.name }}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="status">Status</label>
            <select [disabled]="!editable" id="status" class="form-control" [(ngModel)]="task.taskStatus" name="taskStatus" required #taskStatus="ngModel">
                <option value="1">Open</option>
                <option value="2">Closed</option>
            </select>
        </div>
        <button class="btn btn-primary" [disabled]="!editable">Save</button>
        <a class="btn btn-success pull-right" [routerLink]="['/tasklist']">Back</a>
    </form>
</div>